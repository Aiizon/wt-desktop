<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:core="clr-namespace:wt_desktop.app.Core"
             d:DataContext="{d:DesignInstance Type=core:RolesEditorManager}"
             x:DataType="core:RolesEditorManager"
             x:Class="wt_desktop.app.Core.RolesEditor">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*"    />
        </Grid.RowDefinitions>
        
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"    />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            
            <ComboBox Grid.Column="0" ItemsSource="{Binding AvailableRoles}" SelectedItem="{Binding NewRole}" Margin="0,0,5,0" />
            <Button   Grid.Column="1" Content="Ajouter Role" Command="{Binding AddRoleCommand}" />
        </Grid>

        <ItemsControl Grid.Row="1" x:Name="RolesList" ItemsSource="{Binding Roles}" Margin="0,10,0,0">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border Background="#1E90FF" CornerRadius="4" Margin="0,0,5,5" Padding="5,2">
                        <Grid ColumnDefinitions="*,Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"    />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="{Binding}" Foreground="White" VerticalAlignment="Center" />
                            <!-- <Button Grid.Column="1"  -->
                            <!--         Content="âœ•"       -->
                            <!--         Padding="2"  -->
                            <!--         Margin="5,0,0,0"  -->
                            <!--         Command="{Binding #RolesList.DataContext.RemoveRoleCommand}"  -->
                            <!--         CommandParameter="{Binding}" -->
                            <!-- /> -->
                        </Grid>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
        </ItemsControl>
    </Grid>
</UserControl>